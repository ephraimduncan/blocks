{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "table-04",
  "type": "registry:block",
  "title": "Table with Grouped Rows",
  "description": "A table with grouped rows block.",
  "author": "ephraim duncan <https://ephraimduncan.com>",
  "registryDependencies": [
    "avatar",
    "badge",
    "table"
  ],
  "dependencies": [],
  "files": [
    {
      "path": "content/components/tables/table-04.tsx",
      "type": "registry:component",
      "target": "components/table-04.tsx",
      "content": "'use client';\r\n\r\nimport { Fragment } from 'react';\r\nimport {\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableHead,\r\n  TableHeader,\r\n  TableRow,\r\n} from '@/components/ui/table';\r\nimport { Badge } from '@/components/ui/badge';\r\nimport { Avatar, AvatarFallback } from '@/components/ui/avatar';\r\nimport { cn } from '@/lib/utils';\r\n\r\ninterface AssignedPerson {\r\n  name: string;\r\n  initials: string;\r\n}\r\n\r\ninterface TaskItem {\r\n  id: string;\r\n  task: string;\r\n  budget: string;\r\n  deadline: string;\r\n  assigned: AssignedPerson[];\r\n  status: string;\r\n}\r\n\r\ninterface TaskGroup {\r\n  name: string;\r\n  items: TaskItem[];\r\n}\r\n\r\ntype StatusVariant = 'success' | 'warning' | 'default' | 'secondary';\r\n\r\nconst avatarColors = [\r\n  'bg-blue-500',\r\n  'bg-purple-500',\r\n  'bg-emerald-500',\r\n  'bg-cyan-500',\r\n  'bg-rose-500',\r\n  'bg-indigo-500',\r\n];\r\n\r\nfunction getAvatarColor(initials: string) {\r\n  const seed = initials\r\n    .split('')\r\n    .reduce((acc, char) => acc + char.charCodeAt(0), 0);\r\n  return avatarColors[seed % avatarColors.length];\r\n}\r\n\r\nfunction AvatarStack({ people }: { people: AssignedPerson[] }) {\r\n  return (\r\n    <div className=\"flex -space-x-2\">\r\n      {people.map((person, index) => (\r\n        <Avatar\r\n          key={index}\r\n          className={cn(\r\n            'h-6 w-6 border-2 border-background text-[10px]',\r\n            getAvatarColor(person.initials)\r\n          )}\r\n        >\r\n          <AvatarFallback\r\n            className={cn('font-medium text-white', getAvatarColor(person.initials))}\r\n          >\r\n            {person.initials}\r\n          </AvatarFallback>\r\n        </Avatar>\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n\r\nconst statusStyles: Record<StatusVariant, { badge: string; dot: string }> = {\r\n  success: {\r\n    badge:\r\n      'bg-emerald-50 text-emerald-700 dark:bg-emerald-950 dark:text-emerald-300',\r\n    dot: 'bg-emerald-500',\r\n  },\r\n  warning: {\r\n    badge: 'bg-amber-50 text-amber-700 dark:bg-amber-950 dark:text-amber-300',\r\n    dot: 'bg-amber-500',\r\n  },\r\n  default: {\r\n    badge: 'bg-blue-50 text-blue-700 dark:bg-blue-950 dark:text-blue-300',\r\n    dot: 'bg-blue-500',\r\n  },\r\n  secondary: {\r\n    badge: 'bg-muted text-muted-foreground',\r\n    dot: 'bg-muted-foreground',\r\n  },\r\n};\r\n\r\nfunction StatusBadge({\r\n  status,\r\n  variant = 'default',\r\n}: {\r\n  status: string;\r\n  variant?: StatusVariant;\r\n}) {\r\n  const styles = statusStyles[variant];\r\n  return (\r\n    <Badge variant=\"outline\" className={cn('gap-1.5 rounded-full', styles.badge)}>\r\n      <span className={cn('size-1.5 rounded-full', styles.dot)} aria-hidden=\"true\" />\r\n      {status}\r\n    </Badge>\r\n  );\r\n}\r\n\r\nconst data: TaskGroup[] = [\r\n  {\r\n    name: 'Engineering',\r\n    items: [\r\n      {\r\n        id: '1',\r\n        task: 'API Integration Overhaul',\r\n        budget: '$32,000',\r\n        deadline: 'Dec 15, 2024',\r\n        assigned: [\r\n          { name: 'Marcus Chen', initials: 'MC' },\r\n          { name: 'Priya Sharma', initials: 'PS' },\r\n        ],\r\n        status: 'In Progress',\r\n      },\r\n      {\r\n        id: '2',\r\n        task: 'Database Migration',\r\n        budget: '$18,500',\r\n        deadline: 'Jan 20, 2025',\r\n        assigned: [{ name: 'David Kim', initials: 'DK' }],\r\n        status: 'Completed',\r\n      },\r\n      {\r\n        id: '3',\r\n        task: 'Mobile App Redesign',\r\n        budget: '$55,000',\r\n        deadline: 'Feb 28, 2025',\r\n        assigned: [\r\n          { name: 'Lena Rodriguez', initials: 'LR' },\r\n          { name: 'Tom Anderson', initials: 'TA' },\r\n          { name: 'Nina Patel', initials: 'NP' },\r\n        ],\r\n        status: 'Planning',\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    name: 'Marketing',\r\n    items: [\r\n      {\r\n        id: '4',\r\n        task: 'Q1 Campaign Launch',\r\n        budget: '$24,000',\r\n        deadline: 'Jan 5, 2025',\r\n        assigned: [\r\n          { name: 'Rachel Green', initials: 'RG' },\r\n          { name: 'Chris Evans', initials: 'CE' },\r\n        ],\r\n        status: 'In Progress',\r\n      },\r\n      {\r\n        id: '5',\r\n        task: 'Brand Refresh Project',\r\n        budget: '$42,000',\r\n        deadline: 'Mar 1, 2025',\r\n        assigned: [{ name: 'Monica Geller', initials: 'MG' }],\r\n        status: 'Planning',\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    name: 'Operations',\r\n    items: [\r\n      {\r\n        id: '6',\r\n        task: 'Vendor Contract Review',\r\n        budget: '$8,000',\r\n        deadline: 'Dec 30, 2024',\r\n        assigned: [\r\n          { name: 'Joe Tribbiani', initials: 'JT' },\r\n          { name: 'Phoebe Buffay', initials: 'PB' },\r\n        ],\r\n        status: 'Completed',\r\n      },\r\n      {\r\n        id: '7',\r\n        task: 'Office Expansion Setup',\r\n        budget: '$120,000',\r\n        deadline: 'Apr 15, 2025',\r\n        assigned: [{ name: 'Ross Geller', initials: 'RG' }],\r\n        status: 'On Hold',\r\n      },\r\n    ],\r\n  },\r\n];\r\n\r\nfunction getStatusVariant(status: string): StatusVariant {\r\n  switch (status) {\r\n    case 'Completed':\r\n      return 'success';\r\n    case 'In Progress':\r\n      return 'default';\r\n    case 'Planning':\r\n      return 'secondary';\r\n    case 'On Hold':\r\n      return 'warning';\r\n    default:\r\n      return 'default';\r\n  }\r\n}\r\n\r\nexport default function Table04() {\r\n  return (\r\n    <div className=\"rounded-lg border\">\r\n      <Table>\r\n        <TableHeader>\r\n          <TableRow>\r\n            <TableHead className=\"w-48 font-medium\">Task</TableHead>\r\n            <TableHead className=\"font-medium\">Budget</TableHead>\r\n            <TableHead className=\"font-medium\">Deadline</TableHead>\r\n            <TableHead className=\"font-medium\">Assigned</TableHead>\r\n            <TableHead className=\"w-28 font-medium\">Status</TableHead>\r\n          </TableRow>\r\n        </TableHeader>\r\n        <TableBody>\r\n          {data.map((group) => (\r\n            <Fragment key={group.name}>\r\n              <TableRow\r\n                className=\"bg-muted/50 hover:bg-muted/50\"\r\n              >\r\n                <TableCell colSpan={5} className=\"py-2 font-semibold\">\r\n                  {group.name}\r\n                  <span className=\"ml-2 font-normal text-muted-foreground\">\r\n                    {group.items.length}\r\n                  </span>\r\n                </TableCell>\r\n              </TableRow>\r\n              {group.items.map((item) => (\r\n                <TableRow key={item.id}>\r\n                  <TableCell className=\"font-medium\">{item.task}</TableCell>\r\n                  <TableCell>{item.budget}</TableCell>\r\n                  <TableCell>{item.deadline}</TableCell>\r\n                  <TableCell>\r\n                    <AvatarStack people={item.assigned} />\r\n                  </TableCell>\r\n                  <TableCell>\r\n                    <StatusBadge\r\n                      status={item.status}\r\n                      variant={getStatusVariant(item.status)}\r\n                    />\r\n                  </TableCell>\r\n                </TableRow>\r\n              ))}\r\n            </Fragment>\r\n          ))}\r\n        </TableBody>\r\n      </Table>\r\n    </div>\r\n  );\r\n}\r\n"
    }
  ],
  "categories": [
    "tables"
  ]
}