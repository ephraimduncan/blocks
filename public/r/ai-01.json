{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "ai-01",
  "type": "registry:block",
  "title": "AI Chat with Voice Input",
  "description": "A ai chat with voice input block.",
  "author": "ephraim duncan <https://ephraimduncan.com>",
  "registryDependencies": [
    "button",
    "dropdown-menu",
    "textarea"
  ],
  "dependencies": [
    "@tabler/icons-react"
  ],
  "files": [
    {
      "path": "content/components/ai/ai-01.tsx",
      "type": "registry:component",
      "target": "components/ai-01.tsx",
      "content": "\"use client\";\r\n\r\nimport type React from \"react\";\r\n\r\nimport { Button } from \"@/components/ui/button\";\r\nimport {\r\n  DropdownMenu,\r\n  DropdownMenuContent,\r\n  DropdownMenuGroup,\r\n  DropdownMenuItem,\r\n  DropdownMenuTrigger,\r\n} from \"@/components/ui/dropdown-menu\";\r\nimport { Textarea } from \"@/components/ui/textarea\";\r\nimport { cn } from \"@/lib/utils\";\r\nimport {\r\n  IconMicrophone,\r\n  IconPaperclip,\r\n  IconPlus,\r\n  IconSearch,\r\n  IconSend,\r\n  IconSparkles,\r\n  IconWaveSine,\r\n} from \"@tabler/icons-react\";\r\nimport { useRef, useState } from \"react\";\r\n\r\nexport default function Ai01() {\r\n  const [message, setMessage] = useState(\"\");\r\n  const [isExpanded, setIsExpanded] = useState(false);\r\n  const textareaRef = useRef<HTMLTextAreaElement>(null);\r\n  const fileInputRef = useRef<HTMLInputElement>(null);\r\n\r\n  const handleSubmit = (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n\r\n    if (message.trim()) {\r\n      setMessage(\"\");\r\n      setIsExpanded(false);\r\n\r\n      if (textareaRef.current) {\r\n        textareaRef.current.style.height = \"auto\";\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleTextareaChange = (e: React.ChangeEvent<HTMLTextAreaElement>) => {\r\n    setMessage(e.target.value);\r\n\r\n    if (textareaRef.current) {\r\n      textareaRef.current.style.height = \"auto\";\r\n      textareaRef.current.style.height = `${textareaRef.current.scrollHeight}px`;\r\n    }\r\n\r\n    setIsExpanded(e.target.value.length > 100 || e.target.value.includes(\"\\n\"));\r\n  };\r\n\r\n  const handleKeyDown = (e: React.KeyboardEvent) => {\r\n    if (e.key === \"Enter\" && !e.shiftKey) {\r\n      e.preventDefault();\r\n      handleSubmit(e as any);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"w-full\">\r\n      <h1 className=\"mb-7 mx-auto max-w-2xl text-center text-2xl font-semibold leading-9 text-foreground px-1 text-pretty whitespace-pre-wrap\">\r\n        How can I help you today?\r\n      </h1>\r\n\r\n      <form onSubmit={handleSubmit} className=\"group/composer w-full\">\r\n        <input\r\n          ref={fileInputRef}\r\n          type=\"file\"\r\n          multiple\r\n          className=\"sr-only\"\r\n          onChange={(e) => {}}\r\n        />\r\n\r\n        <div\r\n          className={cn(\r\n            \"w-full max-w-2xl mx-auto bg-transparent dark:bg-muted/50 cursor-text overflow-clip bg-clip-padding p-2.5 shadow-lg border border-border transition-all duration-200\",\r\n            {\r\n              \"rounded-3xl grid grid-cols-1 grid-rows-[auto_1fr_auto]\":\r\n                isExpanded,\r\n              \"rounded-[28px] grid grid-cols-[auto_1fr_auto] grid-rows-[auto_1fr_auto]\":\r\n                !isExpanded,\r\n            }\r\n          )}\r\n          style={{\r\n            gridTemplateAreas: isExpanded\r\n              ? \"'header' 'primary' 'footer'\"\r\n              : \"'header header header' 'leading primary trailing' '. footer .'\",\r\n          }}\r\n        >\r\n          <div\r\n            className={cn(\r\n              \"flex min-h-14 items-center overflow-x-hidden px-1.5\",\r\n              {\r\n                \"px-2 py-1 mb-0\": isExpanded,\r\n                \"-my-2.5\": !isExpanded,\r\n              }\r\n            )}\r\n            style={{ gridArea: \"primary\" }}\r\n          >\r\n            <div className=\"flex-1 overflow-auto max-h-52\">\r\n              <Textarea\r\n                ref={textareaRef}\r\n                value={message}\r\n                onChange={handleTextareaChange}\r\n                onKeyDown={handleKeyDown}\r\n                placeholder=\"Ask anything\"\r\n                className=\"min-h-0 resize-none rounded-none border-0 p-0 text-base placeholder:text-muted-foreground focus-visible:ring-0 focus-visible:ring-offset-0 scrollbar-thin dark:bg-transparent\"\r\n                rows={1}\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <div\r\n            className={cn(\"flex\", { hidden: isExpanded })}\r\n            style={{ gridArea: \"leading\" }}\r\n          >\r\n            <DropdownMenu>\r\n              <DropdownMenuTrigger asChild>\r\n                <Button\r\n                  type=\"button\"\r\n                  variant=\"ghost\"\r\n                  size=\"icon\"\r\n                  className=\"h-9 w-9 rounded-full hover:bg-accent outline-none ring-0\"\r\n                >\r\n                  <IconPlus className=\"size-6 text-muted-foreground\" />\r\n                </Button>\r\n              </DropdownMenuTrigger>\r\n\r\n              <DropdownMenuContent\r\n                align=\"start\"\r\n                className=\"max-w-xs rounded-2xl p-1.5\"\r\n              >\r\n                <DropdownMenuGroup className=\"space-y-1\">\r\n                  <DropdownMenuItem\r\n                    className=\"rounded-[calc(1rem-6px)]\"\r\n                    onClick={() => fileInputRef.current?.click()}\r\n                  >\r\n                    <IconPaperclip size={20} className=\"opacity-60\" />\r\n                    Add photos & files\r\n                  </DropdownMenuItem>\r\n                  <DropdownMenuItem\r\n                    className=\"rounded-[calc(1rem-6px)]\"\r\n                    onClick={() => {}}\r\n                  >\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <IconSparkles size={20} className=\"opacity-60\" />\r\n                      Agent mode\r\n                    </div>\r\n                  </DropdownMenuItem>\r\n                  <DropdownMenuItem\r\n                    className=\"rounded-[calc(1rem-6px)]\"\r\n                    onClick={() => {}}\r\n                  >\r\n                    <IconSearch size={20} className=\"opacity-60\" />\r\n                    Deep Research\r\n                  </DropdownMenuItem>\r\n                </DropdownMenuGroup>\r\n              </DropdownMenuContent>\r\n            </DropdownMenu>\r\n          </div>\r\n\r\n          <div\r\n            className=\"flex items-center gap-2\"\r\n            style={{ gridArea: isExpanded ? \"footer\" : \"trailing\" }}\r\n          >\r\n            <div className=\"ms-auto flex items-center gap-1.5\">\r\n              <Button\r\n                type=\"button\"\r\n                variant=\"ghost\"\r\n                size=\"icon\"\r\n                className=\"h-9 w-9 rounded-full hover:bg-accent\"\r\n              >\r\n                <IconMicrophone className=\"size-5 text-muted-foreground\" />\r\n              </Button>\r\n\r\n              <Button\r\n                type=\"button\"\r\n                variant=\"ghost\"\r\n                size=\"icon\"\r\n                className=\"h-9 w-9 rounded-full hover:bg-accent relative\"\r\n              >\r\n                <IconWaveSine className=\"size-5 text-muted-foreground\" />\r\n              </Button>\r\n\r\n              {message.trim() && (\r\n                <Button\r\n                  type=\"submit\"\r\n                  size=\"icon\"\r\n                  className=\"h-9 w-9 rounded-full\"\r\n                >\r\n                  <IconSend className=\"size-5\" />\r\n                </Button>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n"
    }
  ],
  "categories": [
    "ai"
  ]
}