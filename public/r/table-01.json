{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "table-01",
  "type": "registry:block",
  "title": "Table with Accordion",
  "description": "A table with accordion block.",
  "author": "ephraim duncan <https://ephraimduncan.com>",
  "registryDependencies": [
    "button",
    "table"
  ],
  "dependencies": [
    "lucide-react"
  ],
  "files": [
    {
      "path": "content/components/tables/table-01.tsx",
      "type": "registry:component",
      "target": "components/table-01.tsx",
      "content": "'use client';\r\n\r\nimport { Button } from '@/components/ui/button';\r\nimport {\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableHead,\r\n  TableHeader,\r\n  TableRow,\r\n} from '@/components/ui/table';\r\nimport { cn } from '@/lib/utils';\r\nimport { ChevronDown, ChevronRight } from 'lucide-react';\r\nimport { useState } from 'react';\r\n\r\ninterface TableRowData {\r\n  id: string;\r\n  name: string;\r\n  category: string;\r\n  value: number;\r\n  date: string;\r\n  children?: TableRowData[];\r\n}\r\n\r\nconst sampleData: TableRowData[] = [\r\n  {\r\n    id: '001',\r\n    name: 'Project Alpha',\r\n    category: 'Development',\r\n    value: 45_000,\r\n    date: '2024-01-15',\r\n    children: [\r\n      {\r\n        id: '001-01',\r\n        name: 'Frontend Module',\r\n        category: 'Development',\r\n        value: 15_000,\r\n        date: '2024-01-16',\r\n      },\r\n      {\r\n        id: '001-02',\r\n        name: 'Backend Module',\r\n        category: 'Development',\r\n        value: 20_000,\r\n        date: '2024-01-21',\r\n      },\r\n      {\r\n        id: '001-03',\r\n        name: 'Testing Suite',\r\n        category: 'Development',\r\n        value: 10_000,\r\n        date: '2024-01-24',\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    id: '002',\r\n    name: 'Marketing Campaign',\r\n    category: 'Marketing',\r\n    value: 28_500,\r\n    date: '2024-01-18',\r\n    children: [\r\n      {\r\n        id: '002-01',\r\n        name: 'Social Media',\r\n        category: 'Marketing',\r\n        value: 12_000,\r\n        date: '2024-01-19',\r\n      },\r\n      {\r\n        id: '002-02',\r\n        name: 'Email Marketing',\r\n        category: 'Marketing',\r\n        value: 8500,\r\n        date: '2024-01-22',\r\n      },\r\n      {\r\n        id: '002-03',\r\n        name: 'SEO Optimization',\r\n        category: 'Marketing',\r\n        value: 8000,\r\n        date: '2024-01-23',\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    id: '003',\r\n    name: 'Infrastructure Upgrade',\r\n    category: 'Operations',\r\n    value: 67_200,\r\n    date: '2024-01-20',\r\n    children: [\r\n      {\r\n        id: '003-01',\r\n        name: 'Cloud Migration',\r\n        category: 'Operations',\r\n        value: 35_000,\r\n        date: '2024-01-21',\r\n      },\r\n      {\r\n        id: '003-02',\r\n        name: 'Security Enhancement',\r\n        category: 'Operations',\r\n        value: 32_200,\r\n        date: '2024-01-24',\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    id: '004',\r\n    name: 'Customer Support',\r\n    category: 'Service',\r\n    value: 19_800,\r\n    date: '2024-01-25',\r\n  },\r\n];\r\n\r\ninterface AccordionRowProps {\r\n  row: TableRowData;\r\n  defaultOpen?: boolean;\r\n}\r\n\r\nfunction AccordionRow({ row, defaultOpen = false }: AccordionRowProps) {\r\n  const [isOpen, setIsOpen] = useState(defaultOpen);\r\n  const hasChildren = row.children && row.children.length > 0;\r\n\r\n  return (\r\n    <>\r\n      <TableRow\r\n        className={cn(\r\n          'grid grid-cols-[40px_80px_180px_110px_100px_110px] bg-muted/50 hover:bg-muted/50',\r\n          isOpen && 'border-b-0'\r\n        )}\r\n      >\r\n        <TableCell className=\"p-0\">\r\n          <Button\r\n            aria-label={isOpen ? 'Collapse row' : 'Expand row'}\r\n            className={cn(\r\n              'h-full w-full rounded-none p-3 text-muted-foreground transition-colors',\r\n              hasChildren && 'hover:bg-transparent hover:text-foreground',\r\n              !hasChildren && 'cursor-default opacity-30'\r\n            )}\r\n            disabled={!hasChildren}\r\n            onClick={() => setIsOpen(!isOpen)}\r\n            size=\"icon\"\r\n            variant=\"ghost\"\r\n          >\r\n            {hasChildren ? (\r\n              isOpen ? (\r\n                <ChevronDown className=\"h-4 w-4 transition-transform duration-200\" />\r\n              ) : (\r\n                <ChevronRight className=\"h-4 w-4 transition-transform duration-200\" />\r\n              )\r\n            ) : (\r\n              <div className=\"h-4 w-4\" />\r\n            )}\r\n          </Button>\r\n        </TableCell>\r\n        <TableCell className=\"p-3 font-medium font-mono text-muted-foreground text-sm\">\r\n          {row.id}\r\n        </TableCell>\r\n        <TableCell className=\"p-3 font-medium text-sm\">{row.name}</TableCell>\r\n        <TableCell className=\"p-3 text-muted-foreground text-sm\">\r\n          {row.category}\r\n        </TableCell>\r\n        <TableCell className=\"p-3 text-right font-mono font-semibold text-sm\">\r\n          ${row.value.toLocaleString()}\r\n        </TableCell>\r\n        <TableCell className=\"p-3 text-muted-foreground text-sm\">\r\n          {row.date}\r\n        </TableCell>\r\n      </TableRow>\r\n\r\n      {hasChildren && (\r\n        <TableRow className=\"grid grid-cols-[40px_80px_180px_110px_100px_110px] border-b-0 hover:bg-transparent\">\r\n          <TableCell className=\"col-span-6 p-0\" colSpan={6}>\r\n            <div\r\n              className={cn(\r\n                'overflow-hidden transition-all duration-300 ease-in-out',\r\n                isOpen ? 'max-h-[2000px] opacity-100' : 'max-h-0 opacity-0'\r\n              )}\r\n            >\r\n              <div className=\"w-full border-border border-b bg-muted/20\">\r\n                <Table>\r\n                  <TableHeader>\r\n                    <TableRow className=\"grid grid-cols-[40px_80px_180px_110px_100px_110px] border-b-0 bg-muted/30\">\r\n                      <TableHead className=\"flex h-7 items-center border-border border-y px-3 py-1.5\" />\r\n                      <TableHead className=\"flex h-7 items-center border-border border-y px-3 py-1.5 text-xs\">\r\n                        ID\r\n                      </TableHead>\r\n                      <TableHead className=\"flex h-7 items-center border-border border-y px-3 py-1.5 text-xs\">\r\n                        Name\r\n                      </TableHead>\r\n                      <TableHead className=\"flex h-7 items-center border-border border-y px-3 py-1.5 text-xs\">\r\n                        Category\r\n                      </TableHead>\r\n                      <TableHead className=\"flex h-7 items-center justify-end border-border border-y px-3 py-1.5 text-right text-xs\">\r\n                        Value\r\n                      </TableHead>\r\n                      <TableHead className=\"flex h-7 items-center border-border border-y px-3 py-1.5 text-xs\">\r\n                        Date\r\n                      </TableHead>\r\n                    </TableRow>\r\n                  </TableHeader>\r\n                  <TableBody>\r\n                    {row.children?.map((childRow) => (\r\n                      <TableRow\r\n                        className=\"grid grid-cols-[40px_80px_180px_110px_100px_110px]\"\r\n                        key={childRow.id}\r\n                      >\r\n                        <TableCell className=\"px-3 py-2\" />\r\n                        <TableCell className=\"px-3 py-2 font-mono text-muted-foreground text-xs\">\r\n                          {childRow.id}\r\n                        </TableCell>\r\n                        <TableCell className=\"px-3 py-2 font-medium text-xs\">\r\n                          {childRow.name}\r\n                        </TableCell>\r\n                        <TableCell className=\"px-3 py-2 text-muted-foreground text-xs\">\r\n                          {childRow.category}\r\n                        </TableCell>\r\n                        <TableCell className=\"px-3 py-2 text-right font-mono font-semibold text-xs\">\r\n                          ${childRow.value.toLocaleString()}\r\n                        </TableCell>\r\n                        <TableCell className=\"px-3 py-2 text-muted-foreground text-xs\">\r\n                          {childRow.date}\r\n                        </TableCell>\r\n                      </TableRow>\r\n                    ))}\r\n                  </TableBody>\r\n                </Table>\r\n              </div>\r\n            </div>\r\n          </TableCell>\r\n        </TableRow>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default function Table01() {\r\n  return (\r\n    <div className=\"max-w-fit overflow-hidden rounded-lg border border-border bg-card shadow-sm\">\r\n      <div className=\"overflow-x-auto\">\r\n        <Table>\r\n          <TableHeader>\r\n            <TableRow className=\"grid grid-cols-[40px_80px_180px_110px_100px_110px] bg-muted/50\">\r\n              <TableHead className=\"p-3\" />\r\n              <TableHead className=\"p-3 font-semibold text-foreground text-sm\">\r\n                ID\r\n              </TableHead>\r\n              <TableHead className=\"p-3 font-semibold text-foreground text-sm\">\r\n                Name\r\n              </TableHead>\r\n              <TableHead className=\"p-3 font-semibold text-foreground text-sm\">\r\n                Category\r\n              </TableHead>\r\n              <TableHead className=\"p-3 text-right font-semibold text-foreground text-sm\">\r\n                Value\r\n              </TableHead>\r\n              <TableHead className=\"p-3 font-semibold text-foreground text-sm\">\r\n                Date\r\n              </TableHead>\r\n            </TableRow>\r\n          </TableHeader>\r\n          <TableBody>\r\n            {sampleData.map((row, index) => (\r\n              <AccordionRow defaultOpen={index === 0} key={row.id} row={row} />\r\n            ))}\r\n          </TableBody>\r\n        </Table>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"
    }
  ],
  "categories": [
    "tables"
  ]
}