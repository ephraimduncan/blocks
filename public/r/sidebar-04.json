{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "sidebar-04",
  "type": "registry:block",
  "title": "Sidebar Double-Sided Mail",
  "description": "A sidebar double-sided mail block.",
  "author": "ephraim duncan <https://ephraimduncan.com>",
  "registryDependencies": [
    "avatar",
    "dropdown-menu",
    "sidebar"
  ],
  "dependencies": [
    "@tabler/icons-react",
    "lucide-react"
  ],
  "files": [
    {
      "path": "content/components/sidebar/sidebar-04/app/page.tsx",
      "type": "registry:page",
      "target": "app/page.tsx",
      "content": "\"use client\";\r\n\r\nimport { SidebarInset, SidebarProvider } from \"@/components/ui/sidebar\";\r\nimport { AppSidebar } from \"@/components/sidebar-04/app-sidebar\";\r\nimport { MailProvider, useMail } from \"@/components/sidebar-04/mail-context\";\r\n\r\nfunction MailPreview() {\r\n  const { selectedMail } = useMail();\r\n  if (!selectedMail) {\r\n    return (\r\n      <div className=\"flex h-full items-center justify-center text-sm text-muted-foreground\">\r\n        Select an email to preview\r\n      </div>\r\n    );\r\n  }\r\n  return (\r\n    <div className=\"flex h-full flex-col\">\r\n      <div className=\"border-b p-4\">\r\n        <div className=\"text-lg font-semibold\">{selectedMail.subject}</div>\r\n        <div className=\"text-sm text-muted-foreground\">\r\n          From: {selectedMail.name} ({selectedMail.email})\r\n        </div>\r\n      </div>\r\n      <div className=\"p-4 text-sm whitespace-pre-wrap\">{`${selectedMail.teaser}\\n\\nThis is a sample message body for the selected email.\\nIt demonstrates the preview area on the right side.`}</div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default function Page() {\r\n  return (\r\n    <SidebarProvider>\r\n      <MailProvider>\r\n        <div className=\"flex h-screen w-full\">\r\n          <AppSidebar />\r\n          <SidebarInset>\r\n            <div className=\"flex-1 rounded-xl border m-2\">\r\n              <MailPreview />\r\n            </div>\r\n          </SidebarInset>\r\n        </div>\r\n      </MailProvider>\r\n    </SidebarProvider>\r\n  );\r\n}\r\n"
    },
    {
      "path": "content/components/sidebar/sidebar-04/app-sidebar.tsx",
      "type": "registry:component",
      "target": "components/sidebar-04/app-sidebar.tsx",
      "content": "\"use client\";\r\n\r\nimport { Archive, Flag } from \"lucide-react\";\r\nimport * as React from \"react\";\r\n\r\nimport {\r\n  Sidebar,\r\n  SidebarContent,\r\n  SidebarFooter,\r\n  SidebarGroup,\r\n  SidebarGroupContent,\r\n  SidebarGroupLabel,\r\n  SidebarHeader,\r\n  SidebarInput,\r\n  SidebarMenu,\r\n  SidebarMenuButton,\r\n  SidebarMenuItem,\r\n  useSidebar,\r\n} from \"@/components/ui/sidebar\";\r\nimport {\r\n  IconBrandAmongUs,\r\n  IconCarambola,\r\n  IconHourglassHigh,\r\n  IconMailbox,\r\n} from \"@tabler/icons-react\";\r\nimport { useMail } from \"@/components/sidebar-04/mail-context\";\r\nimport { NavUser } from \"@/components/sidebar-04/nav-user\";\r\n\r\n// This is sample data\r\nconst data = {\r\n  user: {\r\n    name: \"ephraim\",\r\n    email: \"ephraim@blocks.so\",\r\n    avatar: \"/avatar-01.png\",\r\n  },\r\n  navMain: [\r\n    {\r\n      title: \"Inbox\",\r\n      url: \"#\",\r\n      icon: IconMailbox,\r\n      isActive: true,\r\n    },\r\n    {\r\n      title: \"Starred\",\r\n      url: \"#\",\r\n      icon: IconCarambola,\r\n      isActive: false,\r\n    },\r\n    {\r\n      title: \"Important\",\r\n      url: \"#\",\r\n      icon: Flag,\r\n      isActive: false,\r\n    },\r\n    {\r\n      title: \"Scheduled\",\r\n      url: \"#\",\r\n      icon: IconHourglassHigh,\r\n      isActive: false,\r\n    },\r\n    {\r\n      title: \"Archive\",\r\n      url: \"#\",\r\n      icon: Archive,\r\n      isActive: false,\r\n    },\r\n  ],\r\n  labels: [\r\n    { title: \"Personal\", color: \"bg-green-400 dark:bg-green-300\" },\r\n    { title: \"Work\", color: \"bg-blue-400 dark:bg-blue-300\" },\r\n    { title: \"Travel\", color: \"bg-orange-400 dark:bg-orange-300\" },\r\n    { title: \"Receipts\", color: \"bg-purple-400 dark:bg-purple-300\" },\r\n  ],\r\n  mails: [\r\n    {\r\n      name: \"Nora Patel\",\r\n      email: \"nora@acme.co\",\r\n      subject: \"Welcome to Acme Mail\",\r\n      date: \"08:15 AM\",\r\n      teaser:\r\n        \"Hi there â€” here's a quick tour of your new inbox.\\nPin, label, and schedule messages to stay organized.\",\r\n    },\r\n    {\r\n      name: \"Stripe\",\r\n      email: \"no-reply@stripe.com\",\r\n      subject: \"Your payout has arrived\",\r\n      date: \"Yesterday\",\r\n      teaser:\r\n        \"A payout of $3,245.90 was sent to your bank account.\\nView details in your dashboard.\",\r\n    },\r\n    {\r\n      name: \"GitHub\",\r\n      email: \"noreply@github.com\",\r\n      subject: \"New activity on acme/app\",\r\n      date: \"Tue\",\r\n      teaser:\r\n        \"3 pull requests need your review. CI passed on main.\\nClick to open the review queue.\",\r\n    },\r\n    {\r\n      name: \"Ava Chen\",\r\n      email: \"ava.chen@example.com\",\r\n      subject: \"Agenda for Friday standup\",\r\n      date: \"Mon\",\r\n      teaser:\r\n        \"Let's cover onboarding, billing bugs, and Q4 goals.\\nReply with anything you want to add.\",\r\n    },\r\n    {\r\n      name: \"Figma\",\r\n      email: \"updates@figma.com\",\r\n      subject: \"What's new in Figma\",\r\n      date: \"Sep 12\",\r\n      teaser:\r\n        \"Variables, auto layout improvements, and dev mode updates.\\nWatch the recap to learn more.\",\r\n    },\r\n    {\r\n      name: \"Linear\",\r\n      email: \"bot@linear.app\",\r\n      subject: \"[ACME-432] Edit modal broken\",\r\n      date: \"Sep 11\",\r\n      teaser:\r\n        \"Issue created by Wendy. Repro steps included.\\nSeverity: high, priority: P1.\",\r\n    },\r\n    {\r\n      name: \"Airbnb\",\r\n      email: \"booking@airbnb.com\",\r\n      subject: \"Your trip to Kyoto\",\r\n      date: \"Sep 10\",\r\n      teaser:\r\n        \"Get ready for your stay. Check-in details and local recommendations inside.\",\r\n    },\r\n    {\r\n      name: \"Notion\",\r\n      email: \"team@notion.so\",\r\n      subject: \"Weekly team recap\",\r\n      date: \"Sep 09\",\r\n      teaser:\r\n        \"Marketing shipped pricing page revamp. Eng closed 14 issues.\\nSee full notes in the doc.\",\r\n    },\r\n    {\r\n      name: \"Google Calendar\",\r\n      email: \"calendar@google.com\",\r\n      subject: \"Design sync moved\",\r\n      date: \"Sep 09\",\r\n      teaser:\r\n        \"Event 'Design sync' moved to 3:30 PM. Meet link updated in the invite.\",\r\n    },\r\n    {\r\n      name: \"HN Daily\",\r\n      email: \"digest@ycombinator.com\",\r\n      subject: \"Top stories today\",\r\n      date: \"Sep 08\",\r\n      teaser:\r\n        \"OpenAI releases new API, SQLite 3.46, and why we left Kubernetes.\\nRead the full digest.\",\r\n    },\r\n  ],\r\n};\r\n\r\nexport function AppSidebar({ ...props }: React.ComponentProps<typeof Sidebar>) {\r\n  // Note: I'm using state to show active item.\r\n  // IRL you should use the url/router.\r\n  const [activeItem, setActiveItem] = React.useState(data.navMain[0]);\r\n  const [mails, setMails] = React.useState(data.mails);\r\n  const [query, setQuery] = React.useState(\"\");\r\n  const { setOpen } = useSidebar();\r\n  const { setSelectedMail } = useMail();\r\n\r\n  const filteredMails = React.useMemo(() => {\r\n    const q = query.trim().toLowerCase();\r\n    if (!q) return mails;\r\n    return mails.filter((m) =>\r\n      [m.name, m.email, m.subject, m.teaser]\r\n        .join(\"\\n\")\r\n        .toLowerCase()\r\n        .includes(q)\r\n    );\r\n  }, [mails, query]);\r\n\r\n  return (\r\n    <div className=\"flex\">\r\n      {/* This is the first sidebar */}\r\n      <Sidebar\r\n        style={{ \"--sidebar-width\": \"12rem\" } as React.CSSProperties}\r\n        collapsible=\"none\"\r\n        className=\"border-r p-2 px-1\"\r\n      >\r\n        <SidebarHeader>\r\n          <SidebarMenu>\r\n            <SidebarMenuItem>\r\n              <SidebarMenuButton size=\"lg\" asChild className=\"md:h-8 md:p-0\">\r\n                <a href=\"#\">\r\n                  <div className=\"bg-sidebar-accent text-sidebar-accent-foreground flex aspect-square size-8 items-center justify-center rounded-lg\">\r\n                    <IconBrandAmongUs className=\"size-4\" />\r\n                  </div>\r\n                  <div className=\"grid flex-1 text-left text-sm leading-tight\">\r\n                    <span className=\"truncate font-medium\">Acme Inc</span>\r\n                    <span className=\"truncate text-xs\">Enterprise</span>\r\n                  </div>\r\n                </a>\r\n              </SidebarMenuButton>\r\n            </SidebarMenuItem>\r\n          </SidebarMenu>\r\n        </SidebarHeader>\r\n        <SidebarContent>\r\n          <SidebarGroup>\r\n            <SidebarGroupContent className=\"px-1.5 md:px-0\">\r\n              <SidebarMenu>\r\n                {data.navMain.map((item) => (\r\n                  <SidebarMenuItem key={item.title}>\r\n                    <SidebarMenuButton\r\n                      onClick={() => {\r\n                        setActiveItem(item);\r\n                        const mail = data.mails.sort(() => Math.random() - 0.5);\r\n                        setMails(\r\n                          mail.slice(\r\n                            0,\r\n                            Math.max(5, Math.floor(Math.random() * 10) + 1)\r\n                          )\r\n                        );\r\n                        setOpen(true);\r\n                      }}\r\n                      isActive={activeItem?.title === item.title}\r\n                      className=\"px-2.5 md:px-2\"\r\n                    >\r\n                      <item.icon />\r\n                      <span>{item.title}</span>\r\n                    </SidebarMenuButton>\r\n                  </SidebarMenuItem>\r\n                ))}\r\n              </SidebarMenu>\r\n            </SidebarGroupContent>\r\n          </SidebarGroup>\r\n          <SidebarGroup>\r\n            <SidebarGroupLabel className=\"px-1.5 md:px-0 text-xs\">\r\n              Labels\r\n            </SidebarGroupLabel>\r\n            <SidebarGroupContent className=\"px-1.5 md:px-0\">\r\n              <SidebarMenu>\r\n                {data.labels.map((label) => (\r\n                  <SidebarMenuItem key={label.title}>\r\n                    <SidebarMenuButton asChild className=\"px-2.5 md:px-2\">\r\n                      <div className=\"flex items-center gap-3\">\r\n                        <div\r\n                          className={`h-3 w-3 rounded-[4px] ${label.color}`}\r\n                        ></div>\r\n                        <span>{label.title}</span>\r\n                      </div>\r\n                    </SidebarMenuButton>\r\n                  </SidebarMenuItem>\r\n                ))}\r\n              </SidebarMenu>\r\n            </SidebarGroupContent>\r\n          </SidebarGroup>\r\n        </SidebarContent>\r\n        <SidebarFooter>\r\n          <NavUser user={data.user} />\r\n        </SidebarFooter>\r\n      </Sidebar>\r\n\r\n      {/* This is the second sidebar */}\r\n      {/* We disable collapsible and let it fill remaining space */}\r\n      <Sidebar\r\n        collapsible=\"none\"\r\n        className=\"hidden flex-1 border-r md:flex min-w-96\"\r\n      >\r\n        <SidebarHeader className=\"gap-3.5 border-b p-4\">\r\n          <div className=\"flex w-full items-center justify-between\">\r\n            <div className=\"text-foreground text-base font-medium\">\r\n              {activeItem?.title}\r\n            </div>\r\n          </div>\r\n          <SidebarInput\r\n            placeholder=\"Type to search...\"\r\n            value={query}\r\n            onChange={(e) => setQuery(e.target.value)}\r\n          />\r\n        </SidebarHeader>\r\n        <SidebarContent>\r\n          <SidebarGroup className=\"px-0 pt-0\">\r\n            <SidebarGroupContent>\r\n              {filteredMails.length === 0 && (\r\n                <div className=\"text-muted-foreground p-4 text-sm\">\r\n                  No results\r\n                </div>\r\n              )}\r\n              {filteredMails.map((mail) => (\r\n                <a\r\n                  href=\"#\"\r\n                  key={mail.email}\r\n                  onClick={(e) => {\r\n                    e.preventDefault();\r\n                    setSelectedMail(mail);\r\n                  }}\r\n                  className=\"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground flex flex-col items-start gap-2 border-b p-4 text-sm leading-tight whitespace-nowrap\"\r\n                >\r\n                  <div className=\"flex w-full items-center gap-2\">\r\n                    <span>{mail.name}</span>{\" \"}\r\n                    <span className=\"ml-auto text-xs\">{mail.date}</span>\r\n                  </div>\r\n                  <span className=\"font-medium\">{mail.subject}</span>\r\n                  <span className=\"line-clamp-2 w-[260px] text-xs whitespace-break-spaces\">\r\n                    {mail.teaser}\r\n                  </span>\r\n                </a>\r\n              ))}\r\n            </SidebarGroupContent>\r\n          </SidebarGroup>\r\n        </SidebarContent>\r\n      </Sidebar>\r\n    </div>\r\n  );\r\n}\r\n"
    },
    {
      "path": "content/components/sidebar/sidebar-04/mail-context.tsx",
      "type": "registry:component",
      "target": "components/sidebar-04/mail-context.tsx",
      "content": "\"use client\";\r\n\r\nimport * as React from \"react\";\r\n\r\nexport type Mail = {\r\n  name: string;\r\n  email: string;\r\n  subject: string;\r\n  date: string;\r\n  teaser: string;\r\n  labels?: string[];\r\n};\r\n\r\ntype MailContextValue = {\r\n  selectedMail: Mail | null;\r\n  setSelectedMail: (mail: Mail | null) => void;\r\n};\r\n\r\nconst MailContext = React.createContext<MailContextValue | undefined>(\r\n  undefined\r\n);\r\n\r\nexport function MailProvider({ children }: { children: React.ReactNode }) {\r\n  const [selectedMail, setSelectedMail] = React.useState<Mail | null>(null);\r\n  const value = React.useMemo(\r\n    () => ({ selectedMail, setSelectedMail }),\r\n    [selectedMail]\r\n  );\r\n  return <MailContext.Provider value={value}>{children}</MailContext.Provider>;\r\n}\r\n\r\nexport function useMail() {\r\n  const ctx = React.useContext(MailContext);\r\n  if (!ctx) throw new Error(\"useMail must be used within MailProvider\");\r\n  return ctx;\r\n}\r\n"
    },
    {
      "path": "content/components/sidebar/sidebar-04/nav-user.tsx",
      "type": "registry:component",
      "target": "components/sidebar-04/nav-user.tsx",
      "content": "\"use client\";\r\n\r\nimport {\r\n  BadgeCheck,\r\n  Bell,\r\n  ChevronsUpDown,\r\n  CreditCard,\r\n  LogOut,\r\n  Sparkles,\r\n} from \"lucide-react\";\r\n\r\nimport { Avatar, AvatarFallback, AvatarImage } from \"@/components/ui/avatar\";\r\nimport {\r\n  DropdownMenu,\r\n  DropdownMenuContent,\r\n  DropdownMenuGroup,\r\n  DropdownMenuItem,\r\n  DropdownMenuLabel,\r\n  DropdownMenuSeparator,\r\n  DropdownMenuTrigger,\r\n} from \"@/components/ui/dropdown-menu\";\r\nimport {\r\n  SidebarMenu,\r\n  SidebarMenuButton,\r\n  SidebarMenuItem,\r\n  useSidebar,\r\n} from \"@/components/ui/sidebar\";\r\n\r\nexport function NavUser({\r\n  user,\r\n}: {\r\n  user: {\r\n    name: string;\r\n    email: string;\r\n    avatar: string;\r\n  };\r\n}) {\r\n  const { isMobile } = useSidebar();\r\n\r\n  return (\r\n    <SidebarMenu>\r\n      <SidebarMenuItem>\r\n        <DropdownMenu>\r\n          <DropdownMenuTrigger asChild>\r\n            <SidebarMenuButton\r\n              size=\"lg\"\r\n              className=\"data-[state=open]:bg-sidebar-accent data-[state=open]:text-sidebar-accent-foreground md:h-8 md:p-0\"\r\n            >\r\n              <Avatar className=\"h-8 w-8 rounded-lg\">\r\n                <AvatarImage src={user.avatar} alt={user.name} />\r\n                <AvatarFallback className=\"rounded-lg\">CN</AvatarFallback>\r\n              </Avatar>\r\n              <div className=\"grid flex-1 text-left text-sm leading-tight\">\r\n                <span className=\"truncate font-medium\">{user.name}</span>\r\n                <span className=\"truncate text-xs\">{user.email}</span>\r\n              </div>\r\n              <ChevronsUpDown className=\"ml-auto size-4\" />\r\n            </SidebarMenuButton>\r\n          </DropdownMenuTrigger>\r\n          <DropdownMenuContent\r\n            className=\"w-(--radix-dropdown-menu-trigger-width) min-w-56 rounded-lg\"\r\n            side={isMobile ? \"bottom\" : \"right\"}\r\n            align=\"end\"\r\n            sideOffset={4}\r\n          >\r\n            <DropdownMenuLabel className=\"p-0 font-normal\">\r\n              <div className=\"flex items-center gap-2 px-1 py-1.5 text-left text-sm\">\r\n                <Avatar className=\"h-8 w-8 rounded-lg\">\r\n                  <AvatarImage src={user.avatar} alt={user.name} />\r\n                  <AvatarFallback className=\"rounded-lg\">CN</AvatarFallback>\r\n                </Avatar>\r\n                <div className=\"grid flex-1 text-left text-sm leading-tight\">\r\n                  <span className=\"truncate font-medium\">{user.name}</span>\r\n                  <span className=\"truncate text-xs\">{user.email}</span>\r\n                </div>\r\n              </div>\r\n            </DropdownMenuLabel>\r\n            <DropdownMenuSeparator />\r\n            <DropdownMenuGroup>\r\n              <DropdownMenuItem>\r\n                <Sparkles />\r\n                Upgrade to Pro\r\n              </DropdownMenuItem>\r\n            </DropdownMenuGroup>\r\n            <DropdownMenuSeparator />\r\n            <DropdownMenuGroup>\r\n              <DropdownMenuItem>\r\n                <BadgeCheck />\r\n                Account\r\n              </DropdownMenuItem>\r\n              <DropdownMenuItem>\r\n                <CreditCard />\r\n                Billing\r\n              </DropdownMenuItem>\r\n              <DropdownMenuItem>\r\n                <Bell />\r\n                Notifications\r\n              </DropdownMenuItem>\r\n            </DropdownMenuGroup>\r\n            <DropdownMenuSeparator />\r\n            <DropdownMenuItem>\r\n              <LogOut />\r\n              Log out\r\n            </DropdownMenuItem>\r\n          </DropdownMenuContent>\r\n        </DropdownMenu>\r\n      </SidebarMenuItem>\r\n    </SidebarMenu>\r\n  );\r\n}\r\n"
    }
  ],
  "categories": [
    "sidebar"
  ]
}